twig:
    paths:
        '%exim.theme.path.root%/views': theme
    globals:
        theme:
            demo: false # '%kernel.debug%'
            name: '%exim.theme.name%'
            path:
                web: '%exim.theme.path.web%'
                public: '%exim.theme.path.public%'
                private: '%exim.theme.path.private%'
            assets:
                version:
                    css: '%exim.theme.assets.version.css%'
                    js: '%exim.theme.assets.version.js%'
                    img: '%exim.theme.assets.version.img%'
                javascripts: '%exim.theme.front.js%'

assetic:
    # debug : '%kernel.debug%'
    debug : false # '%kernel.debug%'
    use_controller : '%kernel.debug%'
    write_to : '%exim.theme.path.root%'
    filters :
        # cssrewrite:
            # style: 'compressed'
        sass:
            bin: '/usr/local/bin/sass'
            apply_to: '\.sass$'
            # style: 'compressed'
        compass:
            bin: '/usr/local/bin/compass'
            apply_to: '\.scss$'
            # style: 'compressed'
    assets:
        sonata_front_js:
            inputs:
                # - %kernel.root_dir%/../web/bundles/sonatacore/vendor/jquery/dist/jquery.js # deactivate
                # - %kernel.root_dir%/../web/bundles/sonatacore/vendor/bootstrap/dist/js/bootstrap.js # deactivate
                - %kernel.root_dir%/../web/bundles/sonataproduct/js/product.js
                - %kernel.root_dir%/../web/bundles/sonatacore/js/base.js
                - %kernel.root_dir%/../web/bundles/sonatacore/vendor/select2/select2.min.js
                - %kernel.root_dir%/../web/bundles/sonatademo/js/demo.js
            filters:
                - yui_js

        sonata_admin_css:
            inputs:
                # - %kernel.root_dir%/../web/bundles/sonatacore/vendor/bootstrap/dist/css/bootstrap.min.css
                # - %kernel.root_dir%/../web/bundles/sonatacore/vendor/components-font-awesome/css/font-awesome.min.css
                - %kernel.root_dir%/../web/bundles/sonatacore/vendor/ionicons/css/ionicons.min.css
                - %kernel.root_dir%/../web/bundles/sonataadmin/vendor/admin-lte/dist/css/AdminLTE.css
                - %kernel.root_dir%/../web/bundles/sonataadmin/vendor/iCheck/skins/square/blue.css
                - %kernel.root_dir%/../web/bundles/sonataadmin/vendor/jqueryui/themes/flick/jquery-ui.min.css
                - %kernel.root_dir%/../web/bundles/sonatacore/vendor/select2/select2.css
                - %kernel.root_dir%/../web/bundles/sonatacore/vendor/select2/select2-bootstrap.css
                - %kernel.root_dir%/../web/bundles/sonataadmin/vendor/x-editable/dist/bootstrap3-editable/css/bootstrap-editable.css
                - %kernel.root_dir%/../web/bundles/sonatacore/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css
                - %kernel.root_dir%/../web/bundles/sonataadmin/css/styles.css
                - %kernel.root_dir%/../web/bundles/sonataadmin/css/layout.css
                - %kernel.root_dir%/../web/bundles/sonataadmin/css/tree.css
                - %kernel.root_dir%/../web/bundles/sonatapage/sonata-page.back.css

            filters:
                - cssrewrite
                - yui_css

        sonata_front_css:
            inputs:
                # - %kernel.root_dir%/../web/bundles/sonatacore/vendor/bootstrap/dist/css/bootstrap.min.css
                - %kernel.root_dir%/../web/bundles/sonatacore/vendor/select2/select2.css
                - %kernel.root_dir%/../web/bundles/mopabootstrap/css/datepicker.css
                - %kernel.root_dir%/../web/bundles/sonatademo/css/demo.css

        admin_css:
            inputs: '%exim.theme.admin.css%'
            output: 'assetic/admin.css'
            filters:
                - yui_css
        front_css:
            inputs: '%exim.theme.front.css%'
            output: 'assetic/front.css'
            filters:
                - yui_css
        front_js:
            inputs: '%exim.theme.front.js%'
            output: 'assetic/front.js'
            filters:
                - yui_js

# http://www.reussir-mon-ecommerce.fr/2012/08/15/manipuler-les-images-avec-symfony2-et-liipimaginebundle/
# https://www.youtube.com/watch?v=8QUam-fBtd0
# https://www.opensky.com/
# http://www.slideshare.net/kriswallsmith/introducing-assetic-asset-management-for-php-53
liip_imagine:
    resolvers:
        theme:
            web_path:
                web_root: '%exim.theme.web.root%'
                cache_prefix: '%exim.theme.path.web%/assets/img'
    loaders:
        theme:
            filesystem:
                data_root: '%exim.theme.path.root%/media'
    cache:                theme
    data_loader:          theme
    filter_sets:
        src: ~
        thumb:
            filters:
                thumbnail:
                    size: [120, 90]
                    mode: outbound
                background:
                    size: [124, 94]
                    position: center
                    color: '#000000'

# knp_gaufrette:
#     adapters:
#         media:
#             local:
#                 directory: '%kernel.root_dir%/../web'
#     filesystems:
#             media:
#                 adapter:    media
#                 alias:      media_filesystem

cmf_routing:
    chain:
        routers_by_id:
            # enable the DynamicRouter with high priority to allow overwriting configured routes with content
            # cmf_routing.dynamic_router: 200
            # enable the symfony default router with a lower priority
            sonata.page.router: 150
            router.default: 100

sonata_page:
    class:
        site:     Application\Sonata\PageBundle\Entity\Site
        snapshot: Application\Sonata\PageBundle\Entity\Snapshot
        page:     Application\Sonata\PageBundle\Entity\Page
        block:    Application\Sonata\PageBundle\Entity\Block
    # default_template: default
    templates:
        global:
            path: '@theme/Template/global.html.twig'
            name: 'Global layout'
            containers:
                header:
                    name: Header
                header_top:
                    name: Header Top
                header_menu:
                    name: Header Menu
                content_search:
                    name: Home Search
                content_top:
                    name: Content Top
                content:
                    name: Content
                content_bottom:
                    name: Content Bottom
                bottom_newsletter:
                    name: Bottom Newsletter
                bottom_embed:
                    name: Bottom Embed
                footer:
                    name: Footer
            matrix:
                 layout: |
                     HHHHHHHH
                     KKKKKKKK
                     MMMMSSSS
                     TTTTTTTT
                     CCCCCCCC
                     BBBBBBBB
                     NNNNEEEE
                     FFFFFFFF

                 mapping:
                    H: header
                    K: header_top
                    M: header_menu
                    S: content_search
                    T: content_top
                    C: content
                    B: content_bottom
                    N: bottom_newsletter
                    E: bottom_embed
                    F: footer

        default:
            path: '@theme/Template/default.html.twig'
            name: 'Default layout - default'
            containers:
                 header:
                     name: Header
                 content_top:
                     name: Top content
                 content:
                     name: Main content
                 content_bottom:
                     name: Bottom content
                 footer:
                     name: Footer
            matrix:
                 layout: |
                     HHHHHHHH
                     TTTTTTTT
                     CCCCCCCC
                     BBBBBBBB
                     FFFFFFFF

                 mapping:
                     H: header
                     T: content_top
                     C: content
                     B: content_bottom
                     F: footer

        index:
            path: '@theme/Template/index.html.twig'
            name: 'Index layout - default'
            containers:
                 header:
                     name: Header
                 content_search:
                     name: Home Search
                 footer:
                     name: Footer
            matrix:
                 layout: |
                     HHHHHHHH
                     SSSSSSSS
                     FFFFFFFF

                 mapping:
                     H: header
                     S: content_search
                     F: footer

        # 2columns:
        #     path: '@theme/Template/index.html.twig'
        #     name: '2 columns layout'
        #     containers:
        #          header:
        #              name: Header
        #          content_search:
        #              name: Home Search
        #          footer:
        #              name: Footer
        #     matrix:
        #          layout: |
        #              HHHHHHHH
        #              SSSSSSSS
        #              FFFFFFFF

        #          mapping:
        #              H: header
        #              S: content_search
        #              F: footer

sonata_block:
    menus:
        "SonataDemoBundle:Builder:mainMenu": "Main Menu"
        "SonataDemoBundle:Builder:footerMenu": "Footer Menu"

sonata_media:
    default_context: lcdd
    contexts:
        lcdd:  # the default context is mandatory
            download:
                mode: http # X-Sendfile | http
            providers:
                - sonata.media.provider.dailymotion
                - sonata.media.provider.youtube
                - sonata.media.provider.image
                - sonata.media.provider.file
                - sonata.media.provider.vimeo

            formats:
                logo: { width: 134, quality: 100}
                icon: { width: 90, quality: 100}
                small: { width: 100, quality: 100}
                big:   { width: 970 , quality: 100}

    filesystem:
        # define where the uploaded file will be stored
        local:
            directory:  '%exim.theme.path.upload%'
            create:     true
doctrine:
    orm:
        entity_managers:
            default:
                mappings:
                    ApplicationSonataBasketBundle: ~
                    ApplicationSonataBlockBundle: ~
                    ApplicationSonataClassificationBundle: ~
                    ApplicationSonataMediaBundle: ~
                    ApplicationSonataNewsBundle: ~
                    ApplicationSonataPageBundle: ~
                    ApplicationSonataProductBundle: ~
                    ApplicationSonataSeoBundle: ~


